{"ast":null,"code":"import _classCallCheck from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Data/Documents/fall2018/cen4010/source/ui/src/components/bookList.jsx\";\nimport React, { Component } from 'react';\nimport Book from './book';\n\nvar BookList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookList, _Component);\n\n  function BookList(props) {\n    var _this;\n\n    _classCallCheck(this, BookList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BookList).call(this, props));\n    _this.state = {\n      showMenu: false,\n      library: [],\n      sortBy: _this.props.sortBy\n    };\n    _this.fetchLibrary = _this.fetchLibrary.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BookList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:5000/books').then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this2.setState({\n          library: json\n        });\n      });\n    }\n  }, {\n    key: \"fetchLibrary\",\n    value: function fetchLibrary(sortBy) {\n      var _this3 = this;\n\n      console.log(\"fetching data by\" + sortBy);\n      var url = 'http://localhost:5000/books';\n\n      if (sortBy === 'priceD') {\n        url = 'http://localhost:5000/book/by-price-d';\n      } else if (sortBy === 'priceA') {\n        url = 'http://localhost:5000/book/by-price-a';\n      } else if (sortBy === 'ratingD') {\n        url = 'http://localhost:5000/book/by-rating-d';\n      } else if (sortBy === 'ratingA') {\n        url = 'http://localhost:5000/book/by-rating-a';\n      } else if (sortBy === 'author') {\n        url = 'http://localhost:5000/book/by-author';\n      }\n\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this3.setState({\n          library: json\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Typical usage (don't forget to compare props):\n      if (this.props.sortBy !== prevProps.sortBy) {\n        this.fetchLibrary(this.props.sortBy);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.state.library.map(function (book) {\n        return React.createElement(\"div\", {\n          className: \"col-md-12 d-flex justify-content-between\",\n          style: {\n            padding: \"5px\"\n          },\n          key: book.isbn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(Book, {\n          isbn: book.isbn,\n          title: book.title,\n          author: book.author,\n          price: book.price,\n          image: book.img,\n          description: book.description,\n          callbackFromParent: _this4.myCallback,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }));\n      })));\n    }\n  }]);\n\n  return BookList;\n}(Component);\n\nexport default BookList;","map":{"version":3,"sources":["/Data/Documents/fall2018/cen4010/source/ui/src/components/bookList.jsx"],"names":["React","Component","Book","BookList","props","state","showMenu","library","sortBy","fetchLibrary","bind","fetch","then","res","json","setState","console","log","url","prevProps","map","book","padding","isbn","title","author","price","img","description","myCallback"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Book from './book';\n\nclass BookList extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            showMenu: false,\n            library: [],\n            sortBy: this.props.sortBy,\n        }\n        this.fetchLibrary = this.fetchLibrary.bind(this);\n\n    }\n    componentDidMount(){\n        fetch('http://localhost:5000/books')\n        .then(res => res.json())\n        .then(json => {\n            this.setState({\n                library: json,\n            })\n        });\n    }\n\n    fetchLibrary(sortBy){\n        console.log(\"fetching data by\" + sortBy)\n        let url = 'http://localhost:5000/books';\n        if(sortBy === 'priceD'){\n            url = 'http://localhost:5000/book/by-price-d';\n        }else if(sortBy === 'priceA'){\n            url = 'http://localhost:5000/book/by-price-a';\n        }else if(sortBy === 'ratingD'){\n            url = 'http://localhost:5000/book/by-rating-d';\n\n        }else if(sortBy === 'ratingA'){\n            url = 'http://localhost:5000/book/by-rating-a';\n        }else if(sortBy === 'author'){\n            url = 'http://localhost:5000/book/by-author';\n        }\n        fetch(url).then(res => res.json())\n        .then(json => {\n            this.setState({\n                library: json,\n            })\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n      // Typical usage (don't forget to compare props):\n      if (this.props.sortBy !== prevProps.sortBy) {\n        this.fetchLibrary(this.props.sortBy);\n      }\n    }\n\n    render() {\n        return (\n            <div>\n            <div className=\"row\">\n                {/* This part is to show the list of books */}\n                {this.state.library.map(book => (\n                        <div className=\"col-md-12 d-flex justify-content-between\" style={{padding: \"5px\"}} key={book.isbn}>\n                            <Book isbn={book.isbn} title={book.title} author={book.author} price={book.price} image={book.img} description={book.description} callbackFromParent={this.myCallback}/>\n                        </div>\n                ))}\n            </div>\n            </div>\n        );\n    }\n\n}\n\nexport default BookList;\n"]},"metadata":{},"sourceType":"module"}