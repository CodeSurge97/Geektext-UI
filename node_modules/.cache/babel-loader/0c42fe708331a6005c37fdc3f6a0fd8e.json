{"ast":null,"code":"import _classCallCheck from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Data/Documents/fall2018/cen4010/source/ui/src/components/bookPage.jsx\";\nimport React, { Component } from 'react';\nimport Comment from './comment';\nimport AddComment from \"./addComment\";\nimport ShowMore from 'react-show-more';\n\nvar BookPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookPage, _Component);\n\n  function BookPage(props) {\n    var _this;\n\n    _classCallCheck(this, BookPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BookPage).call(this, props));\n    _this.state = {\n      isbn: _this.props.match.params.isbn,\n      book: {},\n      comments: [],\n      width: 215,\n      height: 280,\n      url: 'http://localhost:5000/add-to-cart/1'\n    };\n    _this.enlarge = _this.enlarge.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.minimize = _this.minimize.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addItemToShoppingCart = _this.addItemToShoppingCart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BookPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var url = 'http://localhost:5000/book/' + this.state.isbn;\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this2.setState({\n          book: json,\n          comments: json.comments,\n          author_id: json.author_id\n        });\n      });\n    }\n  }, {\n    key: \"enlarge\",\n    value: function enlarge(event) {\n      var _this3 = this;\n\n      this.setState({\n        width: 220 * 1.25,\n        height: 250 * 1.5\n      }, function () {\n        document.addEventListener('click', _this3.minimize);\n      });\n    }\n  }, {\n    key: \"minimize\",\n    value: function minimize() {\n      var _this4 = this;\n\n      console.log(this.state.width);\n      console.log(this.state.width / 2.0);\n      this.setState({\n        width: 215,\n        height: 280\n      }, function () {\n        document.removeEventListener('click', _this4.minimize);\n      });\n    }\n  }, {\n    key: \"addItemToShoppingCart\",\n    value: function addItemToShoppingCart() {\n      console.log(\"sending the cart item to the api\");\n      fetch(this.state.url, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          isbn: this.state.isbn\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var styles = {\n        s: {\n          padding: '20px',\n          backgroundColor: 'white',\n          lineHeight: \"30px\"\n        },\n        t: {\n          padding: '10px',\n          backgroundColor: 'white',\n          lineHeight: \"10px\"\n        }\n      };\n      return React.createElement(\"div\", {\n        className: \"jumbotron\",\n        style: styles.s,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.book.title), React.createElement(\"div\", {\n        className: \"row align-items-center container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        onClick: function onClick() {\n          _this5.enlarge();\n        },\n        src: \"http://localhost:5000\" + this.state.book.img,\n        alt: this.state.book.img,\n        width: this.state.width,\n        height: this.state.height,\n        className: \"float-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-8\",\n        style: styles.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Author: \"), React.createElement(\"a\", {\n        href: \"http://localhost:3000/author/\" + this.state.author_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.book.author)), React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Price: \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.book.price)), React.createElement(\"form\", {\n        onSubmit: function onSubmit() {\n          _this5.addItemToShoppingCart();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Add to cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Average Rating: \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.book.rating)), React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.t,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Genre: \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.book.genre)), React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.s,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(ShowMore, {\n        lines: 2,\n        more: \"Show more\",\n        less: \"Show less\",\n        anchorClass: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"About the Author: \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.book.author_info))), React.createElement(\"div\", {\n        className: \"container\",\n        style: styles.s,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(ShowMore, {\n        lines: 2,\n        more: \"Show more\",\n        less: \"Show less\",\n        anchorClass: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Description: \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.book.description))))), React.createElement(\"div\", {\n        className: \"row align-items-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"container-fluid\",\n        style: {\n          padding: '10px',\n          backgroundColor: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Comments: \"), this.state.comments.map(function (comment) {\n        return React.createElement(\"div\", {\n          className: \"container-fluid\",\n          style: styles.s,\n          key: comment.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Comment, {\n          contents: comment.contents,\n          rating: comment.rating,\n          user_id: comment.user_id,\n          date: comment.date,\n          username: comment.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }));\n      }), React.createElement(\"div\", {\n        className: \"jumbotron\",\n        style: styles.s,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(AddComment, {\n        isbn: this.state.isbn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return BookPage;\n}(Component);\n\nexport default BookPage;","map":{"version":3,"sources":["/Data/Documents/fall2018/cen4010/source/ui/src/components/bookPage.jsx"],"names":["React","Component","Comment","AddComment","ShowMore","BookPage","props","state","isbn","match","params","book","comments","width","height","url","enlarge","bind","minimize","addItemToShoppingCart","fetch","then","res","json","setState","author_id","event","document","addEventListener","console","log","removeEventListener","method","headers","body","JSON","stringify","styles","s","padding","backgroundColor","lineHeight","t","title","img","fontSize","author","price","rating","genre","author_info","description","map","comment","id","contents","user_id","date","username"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Comment from './comment'\nimport AddComment from \"./addComment\"\nimport ShowMore from 'react-show-more';\n\nclass BookPage extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            isbn: this.props.match.params.isbn,\n            book: {},\n            comments: [],\n            width: 215,\n            height: 280,\n            url: 'http://localhost:5000/add-to-cart/1',\n        }\n        this.enlarge = this.enlarge.bind(this);\n        this.minimize = this.minimize.bind(this);\n        this.addItemToShoppingCart = this.addItemToShoppingCart.bind(this);\n    }\n    componentDidMount(){\n        const url = 'http://localhost:5000/book/' + this.state.isbn\n        fetch(url)\n        .then(res => res.json())\n        .then(json => {\n            this.setState({\n                book: json,\n                comments: json.comments,\n                author_id: json.author_id,\n            })\n        });\n    }\n    enlarge(event){\n\n        this.setState({\n            width: 220 * 1.25,\n            height: 250 * 1.5,\n        }, () => {\n            document.addEventListener('click', this.minimize);\n        });\n    }\n\n    minimize(){\n        console.log(this.state.width)\n        console.log(((this.state.width) / 2.0))\n\n        this.setState({\n            width: 215,\n            height: 280,\n        }, () => {\n          document.removeEventListener('click', this.minimize);\n        });\n    }\n    addItemToShoppingCart(){\n        console.log(\"sending the cart item to the api\");\n        fetch((this.state.url), {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            isbn: this.state.isbn,\n\n          })\n        })\n    }\n    render() {\n\n        let styles = {\n            s: {\n                padding: '20px',\n                backgroundColor: 'white',\n                lineHeight: \"30px\",\n            },\n            t: {\n                padding: '10px',\n                backgroundColor: 'white',\n                lineHeight: \"10px\",\n            }\n        }\n        return (\n            <div className=\"jumbotron\" style={styles.s}>\n                <h1>{this.state.book.title}</h1>\n                <div className=\"row align-items-center container-fluid\">\n                    <div>\n                        <img onClick={() => {this.enlarge()}} src={\"http://localhost:5000\" + this.state.book.img} alt={this.state.book.img} width={this.state.width} height={this.state.height} className=\"float-left\"/>\n                    </div>\n                    <div className=\"col-8\" style={styles.t}>\n                        <div className=\"container\" style={styles.t}>\n                            <span style={{fontSize: 20}}>Author: </span>\n                            <a href={\"http://localhost:3000/author/\" + this.state.author_id}>{this.state.book.author}</a>\n                        </div>\n                        <div className=\"container\" style={styles.t}>\n                            <span style={{fontSize: 20}}>Price: </span>\n                            <span>{this.state.book.price}</span>\n                        </div>\n                        <form onSubmit={()=>{this.addItemToShoppingCart()}}>\n                            <span class=\"float-right\"><input type=\"submit\" value=\"Add to cart\" /></span>\n                        </form>\n                        <div className=\"container\" style={styles.t}>\n                            <span style={{fontSize: 20}}>Average Rating: </span>\n                            <span>{this.state.book.rating}</span>\n                        </div>\n                        <div className=\"container\" style={styles.t}>\n                            <span style={{fontSize: 20}}>Genre: </span>\n                            <span>{this.state.book.genre}</span>\n                        </div>\n                        <div className=\"container\" style={styles.s}>\n                            <ShowMore\n                                lines={2}\n                                more='Show more'\n                                less='Show less'\n                                anchorClass=''>\n                                <span>About the Author: </span>\n                                <span>{this.state.book.author_info}</span>\n                            </ShowMore>\n                        </div>\n                        <div className=\"container\" style={styles.s}>\n                            <ShowMore\n                                lines={2}\n                                more='Show more'\n                                less='Show less'\n                                anchorClass=''>\n                                <span>Description: </span>\n                                <span>{this.state.book.description}</span>\n                            </ShowMore>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row align-items-end\">\n                    <h3 className=\"container-fluid\" style={{padding: '10px', backgroundColor: 'white',}}>Comments: </h3>\n                    {/*maybe create a comments component and inside of that a comment component like in books*/}\n                    {this.state.comments.map(comment => (\n                        <div className=\"container-fluid\" style={styles.s} key={comment.id}>\n                            <Comment contents={comment.contents} rating={comment.rating} user_id={comment.user_id} date={comment.date} username={comment.username}/>\n                        </div>\n                    ))}\n                    <div className=\"jumbotron\" style={styles.s}>\n                        <AddComment isbn={this.state.isbn}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default BookPage;\n"]},"metadata":{},"sourceType":"module"}