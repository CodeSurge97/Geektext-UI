{"ast":null,"code":"import _defineProperty from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Data/Documents/fall2018/cen4010/source/ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Data/Documents/fall2018/cen4010/source/ui/src/components/LoginApp.jsx\";\nimport React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport \"./Login.css\";\nimport { validateEmail } from '../utils/misc';\n\nvar LoginApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginApp, _Component);\n\n  function LoginApp(props) {\n    var _this;\n\n    _classCallCheck(this, LoginApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginApp).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.email, event.target.value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n    };\n\n    _this.state = {\n      email: '',\n      password: '',\n      url: 'http://localhost:5000/login/',\n      email_error_text: null,\n      password_error_text: null,\n      disabled: true\n    };\n    return _this;\n  }\n\n  _createClass(LoginApp, [{\n    key: \"isDisabled\",\n    value: function isDisabled() {\n      var email_is_valid = false;\n      var password_is_valid = false;\n\n      if (this.state.email === '') {\n        this.setState({\n          email_error_text: null\n        });\n      } else if (validateEmail(this.state.email)) {\n        email_is_valid = true;\n        this.setState({\n          email_error_text: null\n        });\n      } else {\n        this.setState({\n          email_error_text: 'Sorry, this is not a valid email'\n        });\n      }\n\n      if (this.state.password === '' || !this.state.password) {\n        this.setState({\n          password_error_text: null\n        });\n      } else if (this.state.password.length >= 6) {\n        password_is_valid = true;\n        this.setState({\n          password_error_text: null\n        });\n      } else {\n        this.setState({\n          password_error_text: 'Your password must be at least 6 characters'\n        });\n      }\n\n      if (email_is_valid && password_is_valid) {\n        this.setState({\n          disabled: false\n        });\n      }\n    }\n  }, {\n    key: \"changeValue\",\n    value: function changeValue(e, type) {\n      var _this2 = this;\n\n      var value = e.target.value;\n      var next_state = {};\n      next_state[type] = value;\n      this.setState(next_state, function () {\n        _this2.isDisabled();\n      });\n    }\n  }, {\n    key: \"_handleKeyPress\",\n    value: function _handleKeyPress(e) {\n      if (e.key === 'Enter') {\n        if (!this.state.disabled) {\n          this.login(e);\n        }\n      }\n    }\n  }, {\n    key: \"login\",\n    value: function login(e) {\n      e.preventDefault();\n      this.props.loginUser(this.state.email, this.state.password, this.state.url);\n    } //validateForm() {\n    //return this.state.email.length > 0 && this.state.password.length > 0;\n    //}\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"col-md-6 col-md-offset-3\",\n        onKeyPress: function onKeyPress(e) {\n          return _this3._handleKeyPress(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"email\",\n        bsSize: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Email\"), React.createElement(FormControl, {\n        autoFocus: true,\n        type: \"email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this3.changeValue(e, 'email');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"password\",\n        bsSize: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Password\"), React.createElement(FormControl, {\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return _this3.changeValue(e, 'password');\n        },\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(Button, {\n        block: true,\n        bsSize: \"large\",\n        disabled: this.state.disabled,\n        style: {\n          marginTop: 50\n        },\n        onClick: function onClick(e) {\n          return _this3.login(e);\n        },\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }]);\n\n  return LoginApp;\n}(Component);\n\nLoginApp.propTypes = {\n  loginUser: React.PropTypes.func,\n  statusText: React.PropTypes.string\n}; //export default LoginApp;","map":{"version":3,"sources":["/Data/Documents/fall2018/cen4010/source/ui/src/components/LoginApp.jsx"],"names":["React","Component","Button","FormGroup","FormControl","ControlLabel","validateEmail","LoginApp","props","handleChange","event","setState","target","email","value","handleSubmit","preventDefault","state","password","url","email_error_text","password_error_text","disabled","email_is_valid","password_is_valid","length","e","type","next_state","isDisabled","key","login","loginUser","_handleKeyPress","changeValue","marginTop","propTypes","PropTypes","func","statusText","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport \"./Login.css\";\nimport { validateEmail } from '../utils/misc';\n\n\nclass LoginApp extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n           email: '',\n           password: '',\n           url: 'http://localhost:5000/login/',\n           email_error_text: null,\n           password_error_text: null,\n           disabled: true,\n        }\n    }\n\n isDisabled() {\n        let email_is_valid = false;\n        let password_is_valid = false;\n\n        if (this.state.email === '') {\n            this.setState({\n                email_error_text: null,\n            });\n        } else if (validateEmail(this.state.email)) {\n            email_is_valid = true;\n            this.setState({\n                email_error_text: null,\n            });\n\n        } else {\n            this.setState({\n                email_error_text: 'Sorry, this is not a valid email',\n            });\n        }\n\n        if (this.state.password === '' || !this.state.password) {\n            this.setState({\n                password_error_text: null,\n            });\n        } else if (this.state.password.length >= 6) {\n            password_is_valid = true;\n            this.setState({\n                password_error_text: null,\n            });\n        } else {\n            this.setState({\n                password_error_text: 'Your password must be at least 6 characters',\n            });\n\n        }\n\n        if (email_is_valid && password_is_valid) {\n            this.setState({\n                disabled: false,\n            });\n        }\n\n    }\n\n    changeValue(e, type) {\n        const value = e.target.value;\n        const next_state = {};\n        next_state[type] = value;\n        this.setState(next_state, () => {\n            this.isDisabled();\n        });\n    }\n\n    _handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            if (!this.state.disabled) {\n                this.login(e);\n            }\n        }\n    }\n\n    login(e) {\n        e.preventDefault();\n        this.props.loginUser(this.state.email, this.state.password, this.state.url);\n}\n\n//validateForm() {\n    //return this.state.email.length > 0 && this.state.password.length > 0;\n  //}\n\n  handleChange = event => {\n    this.setState({\n      [event.target.email]: event.target.value\n    });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n  }\n\n  \n\n  render() {\n    return (\n      <div className=\"col-md-6 col-md-offset-3\" onKeyPress={(e) => this._handleKeyPress(e)}>\n        <form onSubmit={this.handleSubmit}>\n          <FormGroup controlId=\"email\" bsSize=\"large\">\n            <ControlLabel>Email</ControlLabel>\n            <FormControl\n              autoFocus\n              type=\"email\"\n              value={this.state.email}\n              onChange={(e) => this.changeValue(e, 'email')}\n            />\n          </FormGroup>\n          <FormGroup controlId=\"password\" bsSize=\"large\">\n            <ControlLabel>Password</ControlLabel>\n            <FormControl\n              value={this.state.password}\n              onChange={(e) => this.changeValue(e, 'password')}\n              type=\"password\"\n            />\n          </FormGroup>\n          <Button\n            block\n            bsSize=\"large\"\n            disabled={this.state.disabled}\n            style={{ marginTop: 50 }}\n            onClick={(e) => this.login(e)}\n            type=\"submit\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nLoginApp.propTypes = {\n    loginUser: React.PropTypes.func,\n    statusText: React.PropTypes.string,\n};\n\n//export default LoginApp;"]},"metadata":{},"sourceType":"module"}